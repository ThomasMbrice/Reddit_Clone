{"ast":null,"code":"var _jsxFileName = \"/Users/thomasmbrice/Desktop/coding/cse316/gamer/project-predditstoriesyoutubeshorts/client/src/components/views/HomeView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PostCard from '../post/PostCard';\nimport * as api from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeView({\n  posts,\n  onNavigate,\n  authState\n}) {\n  _s();\n  const [sortOrder, setSortOrder] = useState('Newest');\n  const [communityResults, setCommunityResults] = useState([]);\n  const [otherResults, setOtherResults] = useState([]);\n  useEffect(() => {\n    const createHomePage = async () => {\n      try {\n        if ((authState === null || authState === void 0 ? void 0 : authState.type) === 'user') {\n          const userComms = await api.getUserMemberCommunities(authState.user.user.displayName);\n          console.log('User communities:', userComms.data);\n          console.log('All posts:', posts);\n          const memberPosts = posts.filter(post => userComms.data.some(comm => comm.name === post.communityName));\n          const otherPosts = posts.filter(post => !userComms.data.some(comm => comm.name === post.communityName));\n          console.log('Member posts:', memberPosts);\n          console.log('Other posts:', otherPosts);\n          setCommunityResults(memberPosts);\n          setOtherResults(otherPosts);\n        } else {\n          setOtherResults(posts);\n        }\n      } catch (error) {\n        console.error('Error organizing posts:', error);\n      }\n    };\n    createHomePage();\n  }, [posts, authState]);\n  const handleSort = order => {\n    setSortOrder(order);\n  };\n  const handlePostClick = postID => {\n    onNavigate('post', {\n      postID\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [communityResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"big_header\",\n        children: \"Your Community Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"counter_p\",\n        children: [communityResults.length, \" Posts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main_button_wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `newestbttn ${sortOrder === 'Newest' ? 'active' : ''}`,\n          onClick: () => handleSort('Newest'),\n          children: \"Newest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `oldestbttn ${sortOrder === 'Oldest' ? 'active' : ''}`,\n          onClick: () => handleSort('Oldest'),\n          children: \"Oldest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `activebttn ${sortOrder === 'Active' ? 'active' : ''}`,\n          onClick: () => handleSort('Active'),\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PostCard, {\n        posts: communityResults,\n        sortOrder: sortOrder,\n        onPostClick: handlePostClick,\n        authState: authState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), otherResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-section\",\n      children: [communityResults.length > 0 && /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"section-divider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"big_header\",\n        children: \"Other Community Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"counter_p\",\n        children: [otherResults.length, \" Posts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main_button_wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `newestbttn ${sortOrder === 'Newest' ? 'active' : ''}`,\n          onClick: () => handleSort('Newest'),\n          children: \"Newest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `oldestbttn ${sortOrder === 'Oldest' ? 'active' : ''}`,\n          onClick: () => handleSort('Oldest'),\n          children: \"Oldest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `activebttn ${sortOrder === 'Active' ? 'active' : ''}`,\n          onClick: () => handleSort('Active'),\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PostCard, {\n        posts: otherResults,\n        sortOrder: sortOrder,\n        onPostClick: handlePostClick,\n        authState: authState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), !communityResults.length && !otherResults.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"big_header\",\n        children: \"No Posts Available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeView, \"41f/M7vZTZCAbTxuiIdsHT1tRxQ=\");\n_c = HomeView;\nvar _c;\n$RefreshReg$(_c, \"HomeView\");","map":{"version":3,"names":["React","useState","useEffect","PostCard","api","jsxDEV","_jsxDEV","HomeView","posts","onNavigate","authState","_s","sortOrder","setSortOrder","communityResults","setCommunityResults","otherResults","setOtherResults","createHomePage","type","userComms","getUserMemberCommunities","user","displayName","console","log","data","memberPosts","filter","post","some","comm","name","communityName","otherPosts","error","handleSort","order","handlePostClick","postID","children","length","className","fileName","_jsxFileName","lineNumber","columnNumber","id","onClick","onPostClick","_c","$RefreshReg$"],"sources":["/Users/thomasmbrice/Desktop/coding/cse316/gamer/project-predditstoriesyoutubeshorts/client/src/components/views/HomeView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PostCard from '../post/PostCard';\nimport * as api from '../../api';\n\nexport default function HomeView({ posts, onNavigate, authState }) {\n  const [sortOrder, setSortOrder] = useState('Newest');\n  const [communityResults, setCommunityResults] = useState([]);\n  const [otherResults, setOtherResults] = useState([]);\n\n  useEffect(() => {\n    const createHomePage = async () => {\n      try {\n        if (authState?.type === 'user') {\n          const userComms = await api.getUserMemberCommunities(authState.user.user.displayName);\n          console.log('User communities:', userComms.data);\n          console.log('All posts:', posts);\n\n          const memberPosts = posts.filter(post => \n            userComms.data.some(comm => comm.name === post.communityName)\n          );\n\n          const otherPosts = posts.filter(post => \n            !userComms.data.some(comm => comm.name === post.communityName)\n          );\n\n          console.log('Member posts:', memberPosts);\n          console.log('Other posts:', otherPosts);\n          \n          setCommunityResults(memberPosts);\n          setOtherResults(otherPosts);\n        } else {\n          setOtherResults(posts);\n        }\n      } catch (error) {\n        console.error('Error organizing posts:', error);\n      }\n    };\n    createHomePage();\n  }, [posts, authState]);\n\n  const handleSort = (order) => {\n    setSortOrder(order);\n  };\n\n  const handlePostClick = (postID) => {\n    onNavigate('post', { postID }); \n  };\n  \n  return (\n    <div>\n      {communityResults.length > 0 && (\n        <div className=\"home-section\">\n          <h1 className='big_header'>Your Community Posts</h1>\n          <p className=\"counter_p\">{communityResults.length} Posts</p>\n          \n          <div id=\"main_button_wrapper\">\n            <button \n              className={`newestbttn ${sortOrder === 'Newest' ? 'active' : ''}`}\n              onClick={() => handleSort('Newest')}\n            >\n              Newest\n            </button>\n            <button \n              className={`oldestbttn ${sortOrder === 'Oldest' ? 'active' : ''}`}\n              onClick={() => handleSort('Oldest')}\n            >\n              Oldest\n            </button>\n            <button \n              className={`activebttn ${sortOrder === 'Active' ? 'active' : ''}`}\n              onClick={() => handleSort('Active')}\n            >\n              Active\n            </button>\n          </div>\n\n          <PostCard \n            posts={communityResults}\n            sortOrder={sortOrder}\n            onPostClick={handlePostClick}\n            authState={authState}\n          />\n        </div>\n      )}\n\n      {otherResults.length > 0 && (\n        <div className=\"home-section\">\n          {communityResults.length > 0 && <hr className=\"section-divider\" />}\n          <h1 className='big_header'>Other Community Posts</h1>\n          <p className=\"counter_p\">{otherResults.length} Posts</p>\n\n          <div id=\"main_button_wrapper\">\n            <button \n              className={`newestbttn ${sortOrder === 'Newest' ? 'active' : ''}`}\n              onClick={() => handleSort('Newest')}\n            >\n              Newest\n            </button>\n            <button \n              className={`oldestbttn ${sortOrder === 'Oldest' ? 'active' : ''}`}\n              onClick={() => handleSort('Oldest')}\n            >\n              Oldest\n            </button>\n            <button \n              className={`activebttn ${sortOrder === 'Active' ? 'active' : ''}`}\n              onClick={() => handleSort('Active')}\n            >\n              Active\n            </button>\n          </div>\n\n          <PostCard \n            posts={otherResults}\n            sortOrder={sortOrder}\n            onPostClick={handlePostClick}\n            authState={authState}\n          />\n        </div>\n      )}\n\n      {!communityResults.length && !otherResults.length && (\n        <div>\n          <h1 className='big_header'>No Posts Available</h1>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}